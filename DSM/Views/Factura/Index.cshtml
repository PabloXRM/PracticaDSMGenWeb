@model IEnumerable<DSM.Models.FacturaViewModel>

@{
    ViewData["Title"] = "Facturas";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="section section-invoice-hero">
    <div class="section-inner">
        <header class="section-header section-header-row">
            <div>
                <span class="section-kicker">Historial de pedidos</span>
                <h2>Facturas</h2>
            </div>

            <div class="invoice-hero-actions">
                <a asp-action="Create" class="btn primary-btn btn-sm">
                    + Crear nueva factura
                </a>
            </div>
        </header>

        <p class="section-subtitle">
            Consulta y gestiona las facturas generadas en la tienda: número, fecha e importe total.
        </p>
    </div>
</section>

<section class="section section-invoice-list">
    <div class="section-inner">
        @if (Model == null || !Model.Any())
        {
            <p>No hay facturas registradas.</p>
        }
        else
        {
            <div class="invoice-grid">
                @foreach (var item in Model)
                {
                    <article class="invoice-card">
                        <div class="invoice-header">
                            <div class="invoice-id">
                                <span class="invoice-label">Factura</span>
                                <span class="invoice-number">@item.Numero</span>
                            </div>

                            <span class="invoice-date">
                                @string.Format("{0:dd/MM/yyyy}", item.Fecha)
                            </span>

                        </div>

                        <div class="invoice-body">
                            <div class="invoice-total">
                                <span class="invoice-label">Total</span>
                                <span class="invoice-total-amount">
                                    @String.Format("{0:0.00} €", item.ImporteTotal)
                                </span>
                            </div>
                        </div>

                        <div class="invoice-actions">
                            <a asp-action="Details" asp-route-id="@item.Id" class="btn ghost-btn btn-sm">
                                Detalles
                            </a>
                            <a asp-action="Edit" asp-route-id="@item.Id" class="btn primary-btn btn-sm">
                                Editar
                            </a>
                            <a asp-action="Delete" asp-route-id="@item.Id"
                               class="btn ghost-btn btn-sm invoice-delete">
                                Borrar
                            </a>
                        </div>
                    </article>
                }
            </div>
        }
    </div>
</section>
